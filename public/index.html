<!doctype html>
<html ng-app="runescapeHiscores">
    <head>
        <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="../build/css/index.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>2007scape Hiscores</title>
    </head>

    <body>
        <main role="main" class="page-container" ng-controller="mainController">
            <div id="player__submission-container" class="player__submission-container">
                <form id="player__form" class="player__form form-inline" role="form" name="user_lookup">
                    <legend>OSRS Hi-Scores Lookup</legend>

                    <div id="player__label-and-input" class="player__label-and-input">
                        <label for="player__input" class="player__input-label" ng-class="{'username-not-found': username_not_found}">
                            <input  id="player__input"  class="player__input form-control"     type="text" placeholder="Username" name="username" required>
                            <button id="player__submit" class="player__submit btn" type="submit">Submit</button>
                        </label>
                    </div>
                </form>
            </div>

            <div class="player__stats-container" ng-cloak>
                <div class="name_and_cb_level">
                    <span class="player__name title title--center" ng-show="player" ng-cloak>
                        {{player}}
                    </span>

                    <div class="details__overall" ng-cloak>
                        <span class="combat-level">
                            <img src="assets/other-icons/combat.png" alt=""> <span>{{overall__combat_level}}</span>
                        </span>

                        <span class="overall__total-level" ng-mouseover="updateSkillHovered(overall)">
                            <img src="assets/other-icons/overall.png" alt=""> <span>{{overall_total_level | number}}</span>
                        </span>
                    </div>
                </div>

                <div class="player__summary">
                    <div class="player__skills">
                        <div class="skill skill--{{ skill.skill }}"
                             ng-repeat="skill in skills track by $index"
                             ng-class="{ 'background-color background-color--best-skill': skill.highestSkill }"
                             ng-mouseover="updateSkillHovered(skill)" ng-cloak>

                            <img class="skill__icon skill_image--{{skill.skill}}" ng-src="./assets/skill-icons/{{skill.skill | capitalize}}.png">

                            <div class="skill__level">{{skill.level}}</div>
                        </div>
                    </div>

                    <div class="player__details other-side-bar-info">
                        <div class="details__focused-skill" ng-cloak>
                            <h4 class="skill__name title title--center">
                                {{skillFocusedName | capitalize}}
                            </h4>

                            <div class="skill__experience-and-rank" ng-class="{'skill-overall': overall_hovered}" ng-cloak>
                                <span id="experience">
                                    <span ng-if="skillFocusedExperience != undefined">{{skillFocusedExperience | number}}xp</span>
                                    <span ng-if="skillFocusedExperience == undefined">??? xp</span>
                                </span>

                                <span ng-show=" skillFocusedIsRanked" id="rank">Rank: {{skillFocusedRank | number}}</span>

                                <span ng-show="!skillFocusedIsRanked" id="no-rank">Not ranked</span>
                            </div>

                            <div ng-hide="overall_hovered" class="skill__progress progress">
                                <div id="progress__bar" class="progress-bar progress-bar-striped"
                                     role="progressbar" aria-valuenow="{{roundDown(skillFocusedProgressToNextLevel)}}"
                                     aria-valuemin="0"  aria-valuemax="100">
                                    <span class="sr-only"></span>
                                </div>
                            </div>

                            <div ng-hide="overall_hovered" class="skill__progress-and-experience-left">
                                <span ng-show="!skillFocusedIsMaxed" id="progress">{{skillFocusedProgressToNextLevel}}% towards level {{skillFocusedNextLevel}}</span>

                                <span ng-show="!skillFocusedIsMaxed"
                                      id="experience-left">
                                    <span ng-if="skillFocusedExperienceUntilNextLevel != undefined">{{skillFocusedExperienceUntilNextLevel | number}}xp left!</span>

                                    <span ng-if="skillFocusedExperienceUntilNextLevel == undefined">??? xp left!</span>
                                </span>

                                <span ng-show=" skillFocusedIsMaxed" id="experience-left--maxed">{{skillFocusedExperienceUntilNextLevel}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            Created by <a href="http://saltor.nyc">Sal Torcivia</a>
        </footer>

        <script src="../build/js/app/index.min.js"></script>
    </body>
</html>
